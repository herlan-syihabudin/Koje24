module.exports=[79926,a=>{"use strict";var b=a.i(87924),c=a.i(31626),d=a.i(72131),e=a.i(50944),f=a.i(57474);let g=a=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a);function h(){let a,h=(0,e.useParams)(),i=h?.id?String(h.id):"",[j,k]=(0,d.useState)(null),[l,m]=(0,d.useState)(!0),[n,o]=(0,d.useState)(null);if((0,d.useEffect)(()=>{if(!i)return;let a=!0;return(async()=>{try{let b=await fetch(`/api/invoice/${i}`,{cache:"no-store"}),c=await b.json();if(!a)return;b.ok&&c.success?k(c.data):o(c.message||"Invoice tidak ditemukan.")}catch{a&&o("Terjadi kesalahan koneksi.")}finally{a&&m(!1)}})(),()=>{a=!1}},[i]),l)return(0,b.jsxs)("div",{className:"flex items-center justify-center min-h-screen text-lg",children:["Memuat Invoice #",i,"..."]});if(n)return(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen text-lg text-red-600",children:n});if(!j)return(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen text-lg",children:"Invoice tidak ditemukan."});let p=(a=>{if(!a)return null;let[b,c]=a.split(", "),[d,e,f]=b.split("/"),g=c.replace(/\./g,":"),h=new Date(`${f}-${e}-${d}T${g}`);return isNaN(h.getTime())?null:h})(j.timestamp),q=p?p.toLocaleString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):j.timestamp;return(0,b.jsxs)("div",{className:"jsx-f0fc42752a603be3 min-h-screen bg-gray-100 p-4 sm:p-8 print:p-0",children:[(0,b.jsx)(c.default,{id:"f0fc42752a603be3",children:"@media print{body{background:#fff!important;margin:0!important;padding:0!important}.invoice-container{box-shadow:none!important;border:none!important;width:100%!important;margin:0!important}.no-print{display:none!important}}"}),(0,b.jsxs)("div",{className:"jsx-f0fc42752a603be3 invoice-container bg-white max-w-4xl mx-auto rounded-lg shadow-xl p-10 border border-gray-200 relative",children:[j.status.toLowerCase().includes("paid")&&(0,b.jsx)("div",{className:"jsx-f0fc42752a603be3 absolute inset-0 flex items-center justify-center pointer-events-none select-none",children:(0,b.jsx)("span",{className:"jsx-f0fc42752a603be3 font-extrabold text-[130px] text-green-600 opacity-15 rotate-[-25deg] tracking-wider",children:"PAID"})}),(0,b.jsxs)("div",{className:"jsx-f0fc42752a603be3 flex justify-between mb-8 items-start",children:[(0,b.jsxs)("div",{className:"jsx-f0fc42752a603be3",children:[(0,b.jsx)("img",{src:"/image/logo-koje24.png",alt:"KOJE24",className:"jsx-f0fc42752a603be3 h-14 w-auto mb-2"}),(0,b.jsxs)("p",{className:"jsx-f0fc42752a603be3 text-sm text-gray-600 mt-1",children:["Jl. Kopi Kenangan No. 24, Jakarta Selatan",(0,b.jsx)("br",{className:"jsx-f0fc42752a603be3"}),"Telp: 0811-2233-4455"]})]}),(0,b.jsxs)("div",{className:"jsx-f0fc42752a603be3 text-right",children:[(0,b.jsx)("p",{className:"jsx-f0fc42752a603be3 text-3xl font-semibold tracking-wide text-[#0B4B50]",children:"INVOICE"}),(0,b.jsxs)("p",{className:"jsx-f0fc42752a603be3 text-xl font-bold mt-1",children:["#",j.invoiceId]}),(0,b.jsxs)("p",{className:"jsx-f0fc42752a603be3 text-sm mt-1",children:["Tanggal: ",q]}),(0,b.jsx)("span",{className:`jsx-f0fc42752a603be3 mt-3 inline-block px-4 py-1 border rounded-full text-sm font-semibold ${(a=j.status.toLowerCase()).includes("paid")?"bg-green-100 text-green-700 border-green-300":a.includes("cod")?"bg-blue-100 text-blue-700 border-blue-300":a.includes("pending")||a.includes("belum")?"bg-yellow-100 text-yellow-700 border-yellow-300":"bg-gray-200 text-gray-700 border-gray-300"}`,children:j.status.toUpperCase()})]})]}),(0,b.jsxs)("div",{className:"jsx-f0fc42752a603be3 mb-6",children:[(0,b.jsx)("h3",{className:"jsx-f0fc42752a603be3 text-sm font-bold text-gray-700 mb-1",children:"Pembeli"}),(0,b.jsx)("p",{className:"jsx-f0fc42752a603be3 text-gray-800 font-medium",children:j.nama}),(0,b.jsx)("p",{className:"jsx-f0fc42752a603be3 text-gray-600",children:j.alamat}),(0,b.jsxs)("p",{className:"jsx-f0fc42752a603be3 text-gray-600",children:["Telp: ",j.hp]})]}),(0,b.jsxs)("table",{className:"jsx-f0fc42752a603be3 w-full text-sm border border-gray-300 mb-6",children:[(0,b.jsx)("thead",{className:"jsx-f0fc42752a603be3",children:(0,b.jsxs)("tr",{className:"jsx-f0fc42752a603be3 bg-gray-100",children:[(0,b.jsx)("th",{className:"jsx-f0fc42752a603be3 border border-gray-300 py-2 text-left px-3",children:"Deskripsi"}),(0,b.jsx)("th",{className:"jsx-f0fc42752a603be3 border border-gray-300 py-2 w-24 text-center",children:"Qty"}),(0,b.jsx)("th",{className:"jsx-f0fc42752a603be3 border border-gray-300 py-2 w-40 text-right px-3",children:"Subtotal"})]})}),(0,b.jsx)("tbody",{className:"jsx-f0fc42752a603be3",children:(0,b.jsxs)("tr",{className:"jsx-f0fc42752a603be3",children:[(0,b.jsx)("td",{className:"jsx-f0fc42752a603be3 border border-gray-200 py-2 px-3",children:j.produkList}),(0,b.jsx)("td",{className:"jsx-f0fc42752a603be3 border border-gray-200 text-center",children:j.qtyTotal}),(0,b.jsx)("td",{className:"jsx-f0fc42752a603be3 border border-gray-200 text-right px-3",children:g(j.subtotalCalc)})]})})]}),(0,b.jsx)("div",{className:"jsx-f0fc42752a603be3 flex justify-end mb-8",children:(0,b.jsx)("table",{className:"jsx-f0fc42752a603be3 text-sm",children:(0,b.jsxs)("tbody",{className:"jsx-f0fc42752a603be3",children:[(0,b.jsxs)("tr",{className:"jsx-f0fc42752a603be3",children:[(0,b.jsx)("td",{className:"jsx-f0fc42752a603be3 py-1 px-4",children:"Subtotal Produk:"}),(0,b.jsx)("td",{className:"jsx-f0fc42752a603be3 text-right font-medium py-1 px-4",children:g(j.subtotalCalc)})]}),(0,b.jsxs)("tr",{className:"jsx-f0fc42752a603be3",children:[(0,b.jsx)("td",{className:"jsx-f0fc42752a603be3 py-1 px-4",children:"Ongkir:"}),(0,b.jsx)("td",{className:"jsx-f0fc42752a603be3 text-right font-medium py-1 px-4",children:g(j.effectiveOngkir)})]}),(0,b.jsxs)("tr",{className:"jsx-f0fc42752a603be3 text-lg font-bold bg-gray-50",children:[(0,b.jsx)("td",{className:"jsx-f0fc42752a603be3 py-2 px-4",children:"TOTAL DIBAYARKAN:"}),(0,b.jsx)("td",{className:"jsx-f0fc42752a603be3 text-right text-red-600 py-2 px-4",children:g(j.effectiveGrandTotal)})]})]})})}),(0,b.jsxs)("div",{className:"jsx-f0fc42752a603be3 flex justify-between items-center mt-6 mb-10",children:[(0,b.jsxs)("div",{className:"jsx-f0fc42752a603be3 text-sm text-gray-700",children:["Scan untuk membuka invoice online:",(0,b.jsx)(f.default,{value:j.invoiceUrl,size:90,className:"mt-2"})]}),(0,b.jsx)("img",{src:`https://barcodeapi.org/api/128/${j.invoiceId}`,alt:"barcode",className:"jsx-f0fc42752a603be3 h-16"})]}),(0,b.jsxs)("p",{className:"jsx-f0fc42752a603be3 text-center text-gray-600 text-sm border-t pt-4",children:["Terima kasih telah berbelanja di ",(0,b.jsx)("strong",{className:"jsx-f0fc42752a603be3",children:"KOJE24"})," ðŸ’› Semoga sehat & berenergi setiap hari!"]})]}),(0,b.jsx)("div",{className:"jsx-f0fc42752a603be3 text-center mt-6 no-print",children:(0,b.jsx)("button",{onClick:()=>window.location.href=`/api/invoice-pdf/${j.invoiceId}`,className:"jsx-f0fc42752a603be3 px-6 py-2 bg-[#C62828] text-white rounded-full shadow-md hover:bg-[#b12121] transition mt-3 text-sm sm:text-base",children:"ðŸ“„ Download PDF Resmi (A4)"})})]})}a.s(["default",()=>h])}];

//# sourceMappingURL=app_invoice_%5Bid%5D_page_tsx_46d29102._.js.map